{
  "version": 3,
  "sources": [
    "../test/server-cmd.js"
  ],
  "names": [
    "start",
    "server",
    "isRunning",
    "console",
    "error",
    "prompt",
    "log",
    "setConfig",
    "catch",
    "then",
    "stop",
    "write",
    "params",
    "showConfig",
    "exit",
    "process",
    "commands",
    "parameters",
    "description",
    "handler",
    "initialize"
  ],
  "mappings": "AAAA;;;;;;;;;;;;;;;;;AAiBA;;;AAGA;;AAEA;;;;AACA;;;;AACA;;;;;;AAEA,SAASA,KAAT,GAAiB;AACb,QAAI,gBAAMC,MAAN,CAAaC,SAAb,EAAJ,EAA8B;AAC1BC,gBAAQC,KAAR,CAAc,8CAAd;AACA,8BAAIC,MAAJ;AACH,KAHD,MAIK;AACDF,gBAAQG,GAAR,CAAY,2BAAZ;AACA,wBAAMC,SAAN;AACA,wBAAMP,KAAN,GACKQ,KADL,CACW,UAACJ,KAAD,EAAW;AACdD,oBAAQC,KAAR,CAAc,6BAAd,EAA6CA,KAA7C;AACA,kCAAIC,MAAJ;AACH,SAJL,EAKKI,IALL,CAKU,YAAM;AACRN,oBAAQG,GAAR,CAAY,wBAAZ;AACA,kCAAID,MAAJ;AACH,SARL;AASH;AACJ;;AAED,SAASK,IAAT,GAAgB;AACZ,QAAI,gBAAMT,MAAN,CAAaC,SAAb,EAAJ,EAA8B;AAC1BC,gBAAQG,GAAR,CAAY,2BAAZ;AACA,wBAAMI,IAAN,GACKF,KADL,CACW,UAACJ,KAAD,EAAW;AACdD,oBAAQC,KAAR,CAAc,4BAAd,EAA4CA,KAA5C;AACA,kCAAIC,MAAJ;AACH,SAJL,EAKKI,IALL,CAKU,YAAM;AACRN,oBAAQG,GAAR,CAAY,wBAAZ;AACA,kCAAID,MAAJ;AACH,SARL;AASH,KAXD,MAYK;AACDF,gBAAQC,KAAR,CAAc,wCAAd;AACA,8BAAIC,MAAJ;AACH;AACJ;;AAED,SAASM,KAAT,CAAeC,MAAf,EAAuB;AACnB,oBAAMX,MAAN,CAAaU,KAAb,CACIC,OAAO,CAAP,CADJ,EAEIA,OAAO,CAAP,CAFJ,EAGIA,OAAO,CAAP,CAHJ,EAIIA,OAAO,CAAP,CAJJ,EAKIA,OAAO,CAAP,CALJ,EAMI,UAACR,KAAD,EAAW;AACP,YAAIA,KAAJ,EAAW;AACPD,oBAAQG,GAAR,CAAY,+BAAZ,EAA6CF,KAA7C;AACH,SAFD,MAGK;AACDD,oBAAQG,GAAR,CAAY,gCAAZ;AACH;AACJ,KAbL;AAcH;;AAED,SAASO,UAAT,GAAsB;AAClBV,YAAQG,GAAR;AACH;;AAED,SAASQ,IAAT,GAAgB;AACZC,YAAQD,IAAR,CAAa,CAAb;AACH;;AAED,IAAIE,WAAW;AACX,aAAS;AACLC,oBAAY,EADP;AAELC,qBAAa,uBAFR;AAGLC,iBAASnB;AAHJ,KADE;AAMX,YAAQ;AACJiB,oBAAY,EADR;AAEJC,qBAAa,sBAFT;AAGJC,iBAAST;AAHL,KANG;AAWX,aAAS;AACLO,oBAAY,CAAC,IAAD,EAAO,YAAP,EAAqB,UAArB,EAAiC,YAAjC,EAA+C,OAA/C,CADP;AAELC,qBAAa,4CAFR;AAGLC,iBAASR;AAHJ,KAXE;AAgBX,cAAU;AACNM,oBAAY,EADN;AAENC,qBAAa,8BAFP;AAGNC,iBAASN;AAHH,KAhBC;AAqBX,YAAQ;AACJI,oBAAY,EADR;AAEJC,qBAAa,YAFT;AAGJC,iBAASL;AAHL;AArBG,CAAf;AA2BA,sBAAIM,UAAJ,CAAeJ,QAAf,EAAyB,iBAAzB;AACAhB",
  "file": "server-cmd.js",
  "sourcesContent": [
    "/*\n * Copyright [2015-2017] Fraunhofer Gesellschaft e.V., Institute for\n * Open Communication Systems (FOKUS)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n/*\n * Script for testing the server without test-framework (mocha) but console-prompt.\n */\n'use strict';\n\nimport lwm2m from \"../dist/index.js\";\nimport config from \"../config.js\";\nimport cmd from \"command-node\";\n\nfunction start() {\n    if (lwm2m.server.isRunning()) {\n        console.error(\"rethink-lwm2m start failed! Already running.\");\n        cmd.prompt();\n    }\n    else {\n        console.log(\"Starting rethink-lwm2m...\");\n        lwm2m.setConfig(config);\n        lwm2m.start()\n            .catch((error) => {\n                console.error(\"rethink-lwm2m start failed!\", error);\n                cmd.prompt();\n            })\n            .then(() => {\n                console.log(\"rethink-lwm2m started!\");\n                cmd.prompt();\n            })\n    }\n}\n\nfunction stop() {\n    if (lwm2m.server.isRunning()) {\n        console.log(\"Stopping rethink-lwm2m...\");\n        lwm2m.stop()\n            .catch((error) => {\n                console.error(\"rethink-lwm2m stop failed!\", error);\n                cmd.prompt();\n            })\n            .then(() => {\n                console.log(\"rethink-lwm2m stopped!\");\n                cmd.prompt();\n            });\n    }\n    else {\n        console.error(\"Can't stop rethink-lwm2m! Not running.\");\n        cmd.prompt();\n    }\n}\n\nfunction write(params) {\n    lwm2m.server.write(\n        params[0],\n        params[1],\n        params[2],\n        params[3],\n        params[4],\n        (error) => {\n            if (error) {\n                console.log(\"Error while writing resource!\", error);\n            }\n            else {\n                console.log(\"Written resource successfully!\");\n            }\n        })\n}\n\nfunction showConfig() {\n    console.log(config);\n}\n\nfunction exit() {\n    process.exit(0);\n}\n\nvar commands = {\n    'start': {\n        parameters: [],\n        description: '\\tStart reTHINK-lwm2m',\n        handler: start\n    },\n    'stop': {\n        parameters: [],\n        description: '\\tStop reTHINK-lwm2m',\n        handler: stop\n    },\n    'write': {\n        parameters: ['id', 'objectType', 'objectId', 'resourceId', 'value'],\n        description: '\\tManual lwm2m-write for development-tests',\n        handler: write\n    },\n    'config': {\n        parameters: [],\n        description: '\\tShow current configuration',\n        handler: showConfig\n    },\n    'exit': {\n        parameters: [],\n        description: '\\tExit cmd',\n        handler: exit\n    }\n};\ncmd.initialize(commands, 'reTHINK-lwm2m> ');\nstart();"
  ]
}